---
title: 'ðŸ§€ Number of Substrings Containing All Three Characters'
description: '[leetcode link](https://leetcode.com/problems/number-of-substrings-containing-all-three-characters/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>Given a string <code>s</code>&nbsp;consisting only of characters <em>a</em>, <em>b</em> and <em>c</em>.</p>  <p>Return the number of substrings containing <b>at least</b>&nbsp;one occurrence of all these characters <em>a</em>, <em>b</em> and <em>c</em>.</p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> s = &quot;abcabc&quot; <br/> <strong>Output:</strong> 10 <br/> <strong>Explanation:</strong> The substrings containing&nbsp;at least&nbsp;one occurrence of the characters&nbsp;<em>a</em>,&nbsp;<em>b</em>&nbsp;and&nbsp;<em>c are &quot;</em>abc<em>&quot;, &quot;</em>abca<em>&quot;, &quot;</em>abcab<em>&quot;, &quot;</em>abcabc<em>&quot;, &quot;</em>bca<em>&quot;, &quot;</em>bcab<em>&quot;, &quot;</em>bcabc<em>&quot;, &quot;</em>cab<em>&quot;, &quot;</em>cabc<em>&quot; </em>and<em> &quot;</em>abc<em>&quot; </em>(<strong>again</strong>)<em>. </em>   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> s = &quot;aaacb&quot; <br/> <strong>Output:</strong> 3 <br/> <strong>Explanation:</strong> The substrings containing&nbsp;at least&nbsp;one occurrence of the characters&nbsp;<em>a</em>,&nbsp;<em>b</em>&nbsp;and&nbsp;<em>c are &quot;</em>aaacb<em>&quot;, &quot;</em>aacb<em>&quot; </em>and<em> &quot;</em>acb<em>&quot;.</em><em> </em>   <p><strong class="example">Example 3:</strong></p>   <strong>Input:</strong> s = &quot;abc&quot; <br/> <strong>Output:</strong> 1    <p><strong>Constraints:</strong></p>  <ul>  <li><code>3 &lt;= s.length &lt;= 5 x 10^4</code></li>  <li><code>s</code>&nbsp;only consists of&nbsp;<em>a</em>, <em>b</em> or <em>c&nbsp;</em>characters.</li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      No notes for this problem
    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Number of Substrings Containing All Three Characters" lines
# @param {String} s
# @return {Integer}
def number_of_substrings(s)
  abc_index = {}
  s.each_byte.with_index.sum do |x, i|
    abc_index[x] = i
    next(0) if abc_index.size < 3
    abc_index.values.min + 1
  end  
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>