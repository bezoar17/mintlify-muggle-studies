---
title: "üßÄ Longest Absolute File Path"
description: '[leetcode link](https://leetcode.com/problems/longest-absolute-file-path/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>Suppose we have a file system that stores both files and directories. An example of one system is represented in the following picture:</p>  <p><img alt="" src="https://assets.leetcode.com/uploads/2020/08/28/mdir.jpg" style="width: 681px; height: 322px;" /></p>  <p>Here, we have <code>dir</code> as the only directory in the root. <code>dir</code> contains two subdirectories, <code>subdir1</code> and <code>subdir2</code>. <code>subdir1</code> contains a file <code>file1.ext</code> and subdirectory <code>subsubdir1</code>. <code>subdir2</code> contains a subdirectory <code>subsubdir2</code>, which contains a file <code>file2.ext</code>.</p>  <p>In text form, it looks like this (with ‚ü∂ representing the tab character):</p>   dir ‚ü∂ subdir1 ‚ü∂ ‚ü∂ file1.ext ‚ü∂ ‚ü∂ subsubdir1 ‚ü∂ subdir2 ‚ü∂ ‚ü∂ subsubdir2 ‚ü∂ ‚ü∂ ‚ü∂ file2.ext   <p>If we were to write this representation in code, it will look like this: <code>&quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot;</code>. Note that the <code>&#39;\n&#39;</code> and <code>&#39;\t&#39;</code> are the new-line and tab characters.</p>  <p>Every file and directory has a unique <strong>absolute path</strong> in the file system, which is the order of directories that must be opened to reach the file/directory itself, all concatenated by <code>&#39;/&#39;s</code>. Using the above example, the <strong>absolute path</strong> to <code>file2.ext</code> is <code>&quot;dir/subdir2/subsubdir2/file2.ext&quot;</code>. Each directory name consists of letters, digits, and/or spaces. Each file name is of the form <code>name.extension</code>, where <code>name</code> and <code>extension</code> consist of letters, digits, and/or spaces.</p>  <p>Given a string <code>input</code> representing the file system in the explained format, return <em>the length of the <strong>longest absolute path</strong> to a <strong>file</strong> in the abstracted file system</em>. If there is no file in the system, return <code>0</code>.</p>  <p><strong>Note</strong> that the testcases are generated such that the file system is valid and no file or directory name has length 0.</p>   <p><strong class="example">Example 1:</strong></p> <img alt="" src="https://assets.leetcode.com/uploads/2020/08/28/dir1.jpg" style="width: 401px; height: 202px;" />  <strong>Input:</strong> input = &quot;dir\n\tsubdir1\n\tsubdir2\n\t\tfile.ext&quot; <br/> <strong>Output:</strong> 20 <br/> <strong>Explanation:</strong> We have only one file, and the absolute path is &quot;dir/subdir2/file.ext&quot; of length 20.   <p><strong class="example">Example 2:</strong></p> <img alt="" src="https://assets.leetcode.com/uploads/2020/08/28/dir2.jpg" style="width: 641px; height: 322px;" />  <strong>Input:</strong> input = &quot;dir\n\tsubdir1\n\t\tfile1.ext\n\t\tsubsubdir1\n\tsubdir2\n\t\tsubsubdir2\n\t\t\tfile2.ext&quot; <br/> <strong>Output:</strong> 32 <br/> <strong>Explanation:</strong> We have two files: &quot;dir/subdir1/file1.ext&quot; of length 21 &quot;dir/subdir2/subsubdir2/file2.ext&quot; of length 32. We return 32 since it is the longest absolute path to a file.   <p><strong class="example">Example 3:</strong></p>   <strong>Input:</strong> input = &quot;a&quot; <br/> <strong>Output:</strong> 0 <br/> <strong>Explanation:</strong> We do not have any files, just a single directory named &quot;a&quot;.    <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;= input.length &lt;= 10<sup>4</sup></code></li>  <li><code>input</code> may contain lowercase or uppercase English letters, a new line character <code>&#39;\n&#39;</code>, a tab character <code>&#39;\t&#39;</code>, a dot <code>&#39;.&#39;</code>, a space <code>&#39; &#39;</code>, and digits.</li>  <li>All file and directory names have <strong>positive</strong> length.</li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Recursion + Regex
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Longest Absolute File Path" lines
# @param {String} input
# @return {Integer}
def length_longest_path(input)
  # \t indicates the level
  # .ext is filename, find all file paths, and return max size

  @max_len = 0

  # class Node
    def node(value, path='', depth = 1)
      
      nodes = value.split(/\n#{'\t'*depth}(?!\W)/)

      name = nodes[0]

      travel = depth > 1 ? (path + '-' + name) : name

      @max_len = [@max_len, travel.size].max if name.include?('.')

      nodes[1..].each { |child|
        node(child, travel, depth+1)
      }
    end
  # end

  input.gsub(' ', 'x').split(/\n(?!\W)/).each {|n| node(n) }

  @max_len
end

```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>