---
title: 'ðŸ§€ Rabbits in Forest'
description: '[leetcode link](https://leetcode.com/problems/rabbits-in-forest/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>There is a forest with an unknown number of rabbits. We asked n rabbits <strong>&quot;How many rabbits have the same color as you?&quot;</strong> and collected the answers in an integer array <code>answers</code> where <code>answers[i]</code> is the answer of the <code>i<sup>th</sup></code> rabbit.</p>  <p>Given the array <code>answers</code>, return <em>the minimum number of rabbits that could be in the forest</em>.</p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> answers = [1,1,2] <br/> <strong>Output:</strong> 5 <br/> <strong>Explanation:</strong> The two rabbits that answered &quot;1&quot; could both be the same color, say red. The rabbit that answered &quot;2&quot; can&#39;t be red or the answers would be inconsistent. Say the rabbit that answered &quot;2&quot; was blue. Then there should be 2 other blue rabbits in the forest that didn&#39;t answer into the array. The smallest possible number of rabbits in the forest is therefore 5: 3 that answered plus 2 that didn&#39;t.   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> answers = [10,10,10] <br/> <strong>Output:</strong> 11    <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;= answers.length &lt;= 1000</code></li>  <li><code>0 &lt;= answers[i] &lt; 1000</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      If x+1 rabbits have same color, then we get x+1 rabbits who all answer x.
now n rabbits answer x.
If n % (x + 1) == 0, we need n / (x + 1) groups of x + 1 rabbits.
If n % (x + 1) != 0, we need n / (x + 1) + 1 groups of x + 1 rabbits.

the number of groups is math.ceil(n / (x + 1)) and it equals to (n + x) / (x + 1) , which is more elegant.


    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Rabbits in Forest" lines
# @param {Integer[]} answers
# @return {Integer}
def num_rabbits(answers)
  result = 0
  answers.tally.each do |same_color, freq|
    same_color+=1 # these many of this color
    result += (freq.to_f/same_color).ceil * same_color
  end
  result
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>