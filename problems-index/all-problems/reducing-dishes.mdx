---
title: "❗️ Reducing Dishes"
description: '[leetcode link](https://leetcode.com/problems/reducing-dishes/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>A chef has collected data on the <code>satisfaction</code> level of his <code>n</code> dishes. Chef can cook any dish in 1 unit of time.</p>  <p><strong>Like-time coefficient</strong> of a dish is defined as the time taken to cook that dish including previous dishes multiplied by its satisfaction level i.e. <code>time[i] * satisfaction[i]</code>.</p>  <p>Return the maximum sum of <strong>like-time coefficient </strong>that the chef can obtain after preparing some amount of dishes.</p>  <p>Dishes can be prepared in <strong>any </strong>order and the chef can discard some dishes to get this maximum value.</p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> satisfaction = [-1,-8,0,5,-9] <br/> <strong>Output:</strong> 14 <br/> <strong>Explanation:</strong> After Removing the second and last dish, the maximum total <strong>like-time coefficient</strong> will be equal to (-1*1 + 0*2 + 5*3 = 14). Each dish is prepared in one unit of time.  <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> satisfaction = [4,3,2] <br/> <strong>Output:</strong> 20 <br/> <strong>Explanation:</strong> Dishes can be prepared in any order, (2*1 + 3*2 + 4*3 = 20)   <p><strong class="example">Example 3:</strong></p>   <strong>Input:</strong> satisfaction = [-1,-4,-5] <br/> <strong>Output:</strong> 0 <br/> <strong>Explanation:</strong> People do not like the dishes. No dish is prepared.    <p><strong>Constraints:</strong></p>  <ul>  <li><code>n == satisfaction.length</code></li>  <li><code>1 &lt;= n &lt;= 500</code></li>  <li><code>-1000 &lt;= satisfaction[i] &lt;= 1000</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Choose dish and order, such that dot product with 1..n is max
Sort the array, sat = satisfaction.sort
If you pick any elem, you should pick the next elem in sorted array because both coefficients are increasing , so we can start anywhere in sat and pick all to right.

We want leftmost i in order to maximize score, bigger nums will get greater co-efficients.
Going from R-L, we will take all positives, and tolerate some negatives which will have low co-efficients.
We go from R-&gt;L, score will be increasing, up until some point, after which it will decrease that is the inflexion point, i, where we get max score, up until i we tolerated some negatives too.

Going from R-L, for score of i, we add suffix_sum[i] to score[i+1]. (Dry run how coefficients change going from R-L, it will be clear, nums[i] gets 1, nums[i+1] gets 2.)
When suffix_sum becomes negative, it wont make sense to add to score, as it wont increase it
this is the inflexion point of i, and our answer.
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Reducing Dishes" lines
# @param {Integer[]} satisfaction
# @return {Integer}
def max_satisfaction(satisfaction)  
  sat = satisfaction.sort; s = sat.size
  suffix_sum = 0
  score = 0
  (s-1).downto(0) do |i|
    suffix_sum+=sat[i]
    return score if suffix_sum<0
    score += suffix_sum
  end
  score
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>