---
title: "ðŸ§€ Design File System"
description: '[leetcode link](https://leetcode.com/problems/design-file-system/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>You are asked to design a file system&nbsp;that allows you to create new paths and associate them with different values.</p>  <p>The format of a path is&nbsp;one or more concatenated strings of the form:&nbsp;<code>/</code> followed by one or more lowercase English letters. For example, &quot;<code>/leetcode&quot;</code>&nbsp;and &quot;<code>/leetcode/problems&quot;</code>&nbsp;are valid paths while an empty&nbsp;string <code>&quot;&quot;</code> and <code>&quot;/&quot;</code>&nbsp;are not.</p>  <p>Implement the&nbsp;<code>FileSystem</code> class:</p>  <ul>  <li><code>bool createPath(string path, int value)</code>&nbsp;Creates a new <code>path</code> and associates a <code>value</code> to it if possible and returns <code>true</code>.&nbsp;Returns <code>false</code>&nbsp;if the path <strong>already exists</strong> or its parent path <strong>doesn&#39;t exist</strong>.</li>  <li><code>int get(string path)</code>&nbsp;Returns the value associated with <code>path</code> or returns&nbsp;<code>-1</code>&nbsp;if the path doesn&#39;t exist.</li> </ul>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong>  [&quot;FileSystem&quot;,&quot;createPath&quot;,&quot;get&quot;] [[],[&quot;/a&quot;,1],[&quot;/a&quot;]] <br/> <strong>Output:</strong>  [null,true,1] <br/> <strong>Explanation:</strong>  FileSystem fileSystem = new FileSystem();  fileSystem.createPath(&quot;/a&quot;, 1); // return true fileSystem.get(&quot;/a&quot;); // return 1   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong>  [&quot;FileSystem&quot;,&quot;createPath&quot;,&quot;createPath&quot;,&quot;get&quot;,&quot;createPath&quot;,&quot;get&quot;] [[],[&quot;/leet&quot;,1],[&quot;/leet/code&quot;,2],[&quot;/leet/code&quot;],[&quot;/c/d&quot;,1],[&quot;/c&quot;]] <br/> <strong>Output:</strong>  [null,true,true,2,false,-1] <br/> <strong>Explanation:</strong>  FileSystem fileSystem = new FileSystem();  fileSystem.createPath(&quot;/leet&quot;, 1); // return true fileSystem.createPath(&quot;/leet/code&quot;, 2); // return true fileSystem.get(&quot;/leet/code&quot;); // return 2 fileSystem.createPath(&quot;/c/d&quot;, 1); // return false because the parent path &quot;/c&quot; doesn&#39;t exist. fileSystem.get(&quot;/c&quot;); // return -1 because this path doesn&#39;t exist.    <p><strong>Constraints:</strong></p>  <ul>  <li><code>2 &lt;= path.length &lt;= 100</code></li>  <li><code>1 &lt;= value &lt;= 10<sup>9</sup></code></li>  <li>Each <code>path</code> is <strong>valid</strong> and consists of lowercase English letters and <code>&#39;/&#39;</code>.</li>  <li>At most <code>10<sup>4</sup></code> calls <strong>in total</strong> will be made to <code>createPath</code> and <code>get</code>.</li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Don't need to build any tree like structure etc.

If we can ensure, a path is only created with a value if its parent path exists, we can keep everything in a hash.

So, create a hash. For create_path fn,
If input path is present, return false.
Get parent path, if parent_path is "", means the path being created is at root level,
which is always allowed, so skip.
If parent path is non-root, check if was created earlier and exists in hash, if yes, set the value, and return true.

For get fn, just get path value from the hash.

No, input validations needed, as inputs will be a valid path, mentioned in the constraints section.
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Design File System" lines
class FileSystem
  def initialize()
    @hash_ = {}
  end


=begin
  :type path: String
  :type value: Integer
  :rtype: Boolean
=end
  def create_path(path, value)
    return false if @hash_.has_key?(path)
    parent_path = path[...path.rindex("/")]
    return false if parent_path!="" && !@hash_.has_key?(parent_path)
    @hash_[path] = value
    true
  end


=begin
  :type path: String
  :rtype: Integer
=end
  def get(path)
    val = @hash_[path]
    val.nil? ? -1 : val
  end
end

# Your FileSystem object will be instantiated and called as such:
# obj = FileSystem.new()
# param_1 = obj.create_path(path, value)
# param_2 = obj.get(path)
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>