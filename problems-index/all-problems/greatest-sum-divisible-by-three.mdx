---
title: 'ðŸ§€ Greatest Sum Divisible by Three'
description: '[leetcode link](https://leetcode.com/problems/greatest-sum-divisible-by-three/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>Given an integer array <code>nums</code>, return <em>the <strong>maximum possible sum </strong>of elements of the array such that it is divisible by three</em>.</p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> nums = [3,6,5,1,8] <br/> <strong>Output:</strong> 18 <br/> <strong>Explanation:</strong> Pick numbers 3, 6, 1 and 8 their sum is 18 (maximum sum divisible by 3).  <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> nums = [4] <br/> <strong>Output:</strong> 0 <br/> <strong>Explanation:</strong> Since 4 is not divisible by 3, do not pick any number.   <p><strong class="example">Example 3:</strong></p>   <strong>Input:</strong> nums = [1,2,3,4,4] <br/> <strong>Output:</strong> 12 <br/> <strong>Explanation:</strong> Pick numbers 1, 3, 4 and 4 their sum is 12 (maximum sum divisible by 3).    <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;= nums.length &lt;= 4 * 10<sup>4</sup></code></li>  <li><code>1 &lt;= nums[i] &lt;= 10<sup>4</sup></code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Keep track of pos/mod sum. Keep updating it and return dp[0]. Also dp only depends on last value, so we can keep dp of mod sum and last dp.
    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Greatest Sum Divisible by Three" lines
# @param {Integer[]} nums
# @return {Integer}
def max_sum_div_three(nums)
  max_sum_div_k(nums, 3)
end

def max_sum_div_k(nums, k)
  n = nums.size
  dp = Array.new(k, 0)
  return -1 if k == 0

  nums.each do |num|
    temp = dp.dup
    (0...k).each do |i|
      new_sum = num+temp[i]
      dp[new_sum%k] = [dp[new_sum%k], new_sum].max
    end
  end

  dp[0]
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>