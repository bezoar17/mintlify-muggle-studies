---
title: "ðŸ§€ House Robber III"
description: '[leetcode link](https://leetcode.com/problems/house-robber-iii/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>The thief has found himself a new place for his thievery again. There is only one entrance to this area, called <code>root</code>.</p>  <p>Besides the <code>root</code>, each house has one and only one parent house. After a tour, the smart thief realized that all houses in this place form a binary tree. It will automatically contact the police if <strong>two directly-linked houses were broken into on the same night</strong>.</p>  <p>Given the <code>root</code> of the binary tree, return <em>the maximum amount of money the thief can rob <strong>without alerting the police</strong></em>.</p>   <p><strong class="example">Example 1:</strong></p> <img alt="" src="https://assets.leetcode.com/uploads/2021/03/10/rob1-tree.jpg" style="width: 277px; height: 293px;" />  <strong>Input:</strong> root = [3,2,3,null,3,null,1] <br/> <strong>Output:</strong> 7 <br/> <strong>Explanation:</strong> Maximum amount of money the thief can rob = 3 + 3 + 1 = 7.   <p><strong class="example">Example 2:</strong></p> <img alt="" src="https://assets.leetcode.com/uploads/2021/03/10/rob2-tree.jpg" style="width: 357px; height: 293px;" />  <strong>Input:</strong> root = [3,4,5,1,3,null,1] <br/> <strong>Output:</strong> 9 <br/> <strong>Explanation:</strong> Maximum amount of money the thief can rob = 4 + 5 = 9.    <p><strong>Constraints:</strong></p>  <ul>  <li>The number of nodes in the tree is in the range <code>[1, 10<sup>4</sup>]</code>.</li>  <li><code>0 &lt;= Node.val &lt;= 10<sup>4</sup></code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Calculate sum of each level, then problem is same as initial house robber where 2 consecutive cant be robbed.
This approach doesnt work. we can pick 1 from a level, and not rob other child, but its immediate next level we can rob again.


Simulate robbing and not robbing stages and calculate max
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="House Robber III" lines
# Definition for a binary tree node.
# class TreeNode
#     attr_accessor :val, :left, :right
#     def initialize(val = 0, left = nil, right = nil)
#         @val = val
#         @left = left
#         @right = right
#     end
# end
# @param {TreeNode} root
# @return {Integer}
def rob(root)
  simulate(root).max
end

def simulate(root)
  return [0,0] if root.nil?

  left_choices = simulate(root.left)
  right_choices = simulate(root.right)

  robbed = root.val + left_choices[1] + right_choices[1]
  skipped = left_choices.max + right_choices.max

  [robbed, skipped]
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>