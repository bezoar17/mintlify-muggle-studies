---
title: 'ðŸ§€ Alternating Groups II'
description: '[leetcode link](https://leetcode.com/problems/alternating-groups-ii/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>There is a circle of red and blue tiles. You are given an array of integers <code>colors</code> and an integer <code>k</code>. The color of tile <code>i</code> is represented by <code>colors[i]</code>:</p>  <ul>  <li><code>colors[i] == 0</code> means that tile <code>i</code> is <strong>red</strong>.</li>  <li><code>colors[i] == 1</code> means that tile <code>i</code> is <strong>blue</strong>.</li> </ul>  <p>An <strong>alternating</strong> group is every <code>k</code> contiguous tiles in the circle with <strong>alternating</strong> colors (each tile in the group except the first and last one has a different color from its <strong>left</strong> and <strong>right</strong> tiles).</p>  <p>Return the number of <strong>alternating</strong> groups.</p>  <p><strong>Note</strong> that since <code>colors</code> represents a <strong>circle</strong>, the <strong>first</strong> and the <strong>last</strong> tiles are considered to be next to each other.</p>   <p><strong class="example">Example 1:</strong></p>  <div class="example-block"> <p><strong>Input:</strong> <span class="example-io">colors = [0,1,0,1,0], k = 3</span></p>  <p><br/> <strong>Output:</strong> <span class="example-io">3</span></p>  <p><br/> <strong>Explanation:</strong></p>  <p><strong><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/06/19/screenshot-2024-05-28-183519.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /></strong></p>  <p>Alternating groups:</p>  <p><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/05/28/screenshot-2024-05-28-182448.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/05/28/screenshot-2024-05-28-182844.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/05/28/screenshot-2024-05-28-183057.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /></p> </div>  <p><strong class="example">Example 2:</strong></p>  <div class="example-block"> <p><strong>Input:</strong> <span class="example-io">colors = [0,1,0,0,1,0,1], k = 6</span></p>  <p><br/> <strong>Output:</strong> <span class="example-io">2</span></p>  <p><br/> <strong>Explanation:</strong></p>  <p><strong><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/06/19/screenshot-2024-05-28-183907.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /></strong></p>  <p>Alternating groups:</p>  <p><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/06/19/screenshot-2024-05-28-184128.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/06/19/screenshot-2024-05-28-184240.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /></p> </div>  <p><strong class="example">Example 3:</strong></p>  <div class="example-block"> <p><strong>Input:</strong> <span class="example-io">colors = [1,1,0,1], k = 4</span></p>  <p><br/> <strong>Output:</strong> <span class="example-io">0</span></p>  <p><br/> <strong>Explanation:</strong></p>  <p><img alt="" data-darkreader-inline-bgcolor="" data-darkreader-inline-bgimage="" src="https://assets.leetcode.com/uploads/2024/06/19/screenshot-2024-05-28-184516.png" style="width: 150px; height: 150px; padding: 10px; background: rgb(255, 255, 255); border-radius: 0.5rem; --darkreader-inline-bgimage: initial; --darkreader-inline-bgcolor: #181a1b;" /></p> </div>   <p><strong>Constraints:</strong></p>  <ul>  <li><code>3 &lt;= colors.length &lt;= 10<sup>5</sup></code></li>  <li><code>0 &lt;= colors[i] &lt;= 1</code></li>  <li><code>3 &lt;= k &lt;= colors.length</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Each position can be the starting point. To check if k length of alternating elements can be found starting from i. We can keep alt_len ending at i in an array. For starting points where next k elements are found without wrapping around the array, its easy, just get diff of alt_len at i and i+k-1, to check if next k are alternating. For the case when next k elements have to be wrapped around the array, first condition is that last and first elements should be alternating, else ans for all wrapping idxs is 0, they cant be starting position. For these idxs, all remaining nums should be alternating and first x wrapped positions should also be alternating, so check for both conditions using the alt_len array itself.
    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Alternating Groups II" lines
# @param {Integer[]} colors
# @param {Integer} k
# @return {Integer}
def number_of_alternating_groups(colors, k)
  n = colors.size
  alt_len_count = Array.new(n, 1)
  curr_alt_len = 1
  
  (1...n).each do |i|
    curr_alt_len = 1 + (colors[i]==colors[i-1] ?  0: curr_alt_len) # reset or continue alt_len
    alt_len_count[i] = curr_alt_len
  end

  (0...n).count do |i|
    alt_of_k_starting_from_i = false
    if i+k-1 < n # not circular, within initial arr
      alt_of_k_starting_from_i = alt_len_count[i+k-1]-alt_len_count[i]+1 >= k
    elsif colors[n-1]!=colors[0] # next k can wrap around the arr
      # next till n are alt, and first remaining-k are also alt
      nums_till_n = n-i; wrapped_nums = k - nums_till_n
      alt_of_k_starting_from_i = (alt_len_count[n-1]-alt_len_count[i]+1 == nums_till_n) && alt_len_count[wrapped_nums-1] == wrapped_nums
    end
    alt_of_k_starting_from_i
  end
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>