---
title: "ðŸ§€ Largest Values From Labels"
description: '[leetcode link](https://leetcode.com/problems/largest-values-from-labels/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>You are given <code>n</code> item&#39;s value and label as two integer arrays <code>values</code> and <code>labels</code>. You are also given two integers <code>numWanted</code> and <code>useLimit</code>.</p>  <p>Your task is to find a subset of items with the <strong>maximum sum</strong> of their values such that:</p>  <ul>  <li>The number of items is <strong>at most</strong> <code>numWanted</code>.</li>  <li>The number of items with the same label is <strong>at most</strong> <code>useLimit</code>.</li> </ul>  <p>Return the maximum sum.</p>   <p><strong class="example">Example 1:</strong></p>  <div class="example-block"> <p><strong>Input:</strong> <span class="example-io">values = [5,4,3,2,1], labels = [1,1,2,2,3], numWanted = 3, useLimit = 1</span></p>  <p><br/> <strong>Output:</strong> <span class="example-io">9</span></p>  <p><br/> <strong>Explanation:</strong></p>  <p>The subset chosen is the first, third, and fifth items with the sum of values 5 + 3 + 1.</p> </div>  <p><strong class="example">Example 2:</strong></p>  <div class="example-block"> <p><strong>Input:</strong> <span class="example-io">values = [5,4,3,2,1], labels = [1,3,3,3,2], numWanted = 3, useLimit = 2</span></p>  <p><br/> <strong>Output:</strong> <span class="example-io">12</span></p>  <p><br/> <strong>Explanation:</strong></p>  <p>The subset chosen is the first, second, and third items with the sum of values 5 + 4 + 3.</p> </div>  <p><strong class="example">Example 3:</strong></p>  <div class="example-block"> <p><strong>Input:</strong> <span class="example-io">values = [9,8,8,7,6], labels = [0,0,0,1,1], numWanted = 3, useLimit = 1</span></p>  <p><br/> <strong>Output:</strong> <span class="example-io">16</span></p>  <p><br/> <strong>Explanation:</strong></p>  <p>The subset chosen is the first and fourth items with the sum of values 9 + 7.</p> </div>   <p><strong>Constraints:</strong></p>  <ul>  <li><code>n == values.length == labels.length</code></li>  <li><code>1 &lt;= n &lt;= 2 * 10<sup>4</sup></code></li>  <li><code>0 &lt;= values[i], labels[i] &lt;= 2 * 10<sup>4</sup></code></li>  <li><code>1 &lt;= numWanted, useLimit &lt;= n</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Sort by value, and pick based on limit, just simulate. Keep track of taken in a freq hash.
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Largest Values From Labels" lines
# @param {Integer[]} values
# @param {Integer[]} labels
# @param {Integer} num_wanted
# @param {Integer} use_limit
# @return {Integer}
def largest_vals_from_labels(values, labels, num_wanted, use_limit)
  n = values.size
  used = Hash.new(0)
  data = values.zip(labels).sort_by {|v,l| -v}
  taken = result = 0

  data.each do |(value, label)|
    next if used[label] == use_limit
    
    # next if usage > use_limit
    result += value
    used[label]+=1
    taken+=1

    return result if taken == num_wanted
  end

  result
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>