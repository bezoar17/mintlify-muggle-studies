---
title: "ðŸ§€ Minimized Maximum of Products Distributed to Any Store"
description: '[leetcode link](https://leetcode.com/problems/minimized-maximum-of-products-distributed-to-any-store/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>You are given an integer <code>n</code> indicating there are <code>n</code> specialty retail stores. There are <code>m</code> product types of varying amounts, which are given as a <strong>0-indexed</strong> integer array <code>quantities</code>, where <code>quantities[i]</code> represents the number of products of the <code>i<sup>th</sup></code> product type.</p>  <p>You need to distribute <strong>all products</strong> to the retail stores following these rules:</p>  <ul>  <li>A store can only be given <strong>at most one product type</strong> but can be given <strong>any</strong> amount of it.</li>  <li>After distribution, each store will have been given some number of products (possibly <code>0</code>). Let <code>x</code> represent the maximum number of products given to any store. You want <code>x</code> to be as small as possible, i.e., you want to <strong>minimize</strong> the <strong>maximum</strong> number of products that are given to any store.</li> </ul>  <p>Return <em>the minimum possible</em> <code>x</code>.</p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> n = 6, quantities = [11,6] <br/> <strong>Output:</strong> 3 <br/> <strong>Explanation:</strong> One optimal way is: - The 11 products of type 0 are distributed to the first four stores in these amounts: 2, 3, 3, 3 - The 6 products of type 1 are distributed to the other two stores in these amounts: 3, 3 The maximum number of products given to any store is max(2, 3, 3, 3, 3, 3) = 3.   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> n = 7, quantities = [15,10,10] <br/> <strong>Output:</strong> 5 <br/> <strong>Explanation:</strong> One optimal way is: - The 15 products of type 0 are distributed to the first three stores in these amounts: 5, 5, 5 - The 10 products of type 1 are distributed to the next two stores in these amounts: 5, 5 - The 10 products of type 2 are distributed to the last two stores in these amounts: 5, 5 The maximum number of products given to any store is max(5, 5, 5, 5, 5, 5, 5) = 5.   <p><strong class="example">Example 3:</strong></p>   <strong>Input:</strong> n = 1, quantities = [100000] <br/> <strong>Output:</strong> 100000 <br/> <strong>Explanation:</strong> The only optimal way is: - The 100000 products of type 0 are distributed to the only store. The maximum number of products given to any store is max(100000) = 100000.    <p><strong>Constraints:</strong></p>  <ul>  <li><code>m == quantities.length</code></li>  <li><code>1 &lt;= m &lt;= n &lt;= 10<sup>5</sup></code></li>  <li><code>1 &lt;= quantities[i] &lt;= 10<sup>5</sup></code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      No notes for this problem
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Minimized Maximum of Products Distributed to Any Store" lines
# @param {Integer} n
# @param {Integer[]} quantities
# @return {Integer}
def minimized_maximum(n, quantities)
  m = quantities.size
  max_val = quantities.max
  return max_val if n==m
  l = 1; r = max_val
  ans = max_val

  while l<r
    mid = (l+r)/2
    if quantities.map{|i| (i.to_f/mid).ceil }.sum <=n
      r=mid
      ans = [ans, mid].min
    else
      l=mid+1
    end
  end
  ans
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>