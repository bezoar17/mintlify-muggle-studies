---
title: "ðŸ§© Take Gifts From the Richest Pile"
description: '[leetcode link](https://leetcode.com/problems/take-gifts-from-the-richest-pile/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>You are given an integer array <code>gifts</code> denoting the number of gifts in various piles. Every second, you do the following:</p>  <ul>  <li>Choose the pile with the maximum number of gifts.</li>  <li>If there is more than one pile with the maximum number of gifts, choose any.</li>  <li>Reduce the number of gifts in the pile to the floor of the square root of the original number of gifts in the pile.</li> </ul>  <p>Return <em>the number of gifts remaining after </em><code>k</code><em> seconds.</em></p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> gifts = [25,64,9,4,100], k = 4 <br/> <strong>Output:</strong> 29 <br/> <strong>Explanation:</strong>  The gifts are taken in the following way: - In the first second, the last pile is chosen and 10 gifts are left behind. - Then the second pile is chosen and 8 gifts are left behind. - After that the first pile is chosen and 5 gifts are left behind. - Finally, the last pile is chosen again and 3 gifts are left behind. The final remaining gifts are [5,8,9,4,3], so the total number of gifts remaining is 29.   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> gifts = [1,1,1,1], k = 4 <br/> <strong>Output:</strong> 4 <br/> <strong>Explanation:</strong>  In this case, regardless which pile you choose, you have to leave behind 1 gift in each pile.  That is, you can&#39;t take any pile with you.  So, the total gifts remaining are 4.    <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;= gifts.length &lt;= 10<sup>3</sup></code></li>  <li><code>1 &lt;= gifts[i] &lt;= 10<sup>9</sup></code></li>  <li><code>1 &lt;= k &lt;= 10<sup>3</sup></code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Just do as it says, simulate it
</Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Take Gifts From the Richest Pile" lines
# @param {Integer[]} gifts
# @param {Integer} k
# @return {Integer}
def pick_gifts(gifts, k)
  pq = Containers::PriorityQueue.new
  gifts.each { |i| pq.push(i,i)}
  k.times do
    num = pq.pop; new_val = Math.sqrt(num).floor
    pq.push(new_val, new_val)
  end
  sum=0
  sum+=pq.pop until pq.empty? 
  sum
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>