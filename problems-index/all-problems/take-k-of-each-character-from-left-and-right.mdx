---
title: 'ðŸ§€ Take K of Each Character From Left and Right'
description: '[leetcode link](https://leetcode.com/problems/take-k-of-each-character-from-left-and-right/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>You are given a string <code>s</code> consisting of the characters <code>&#39;a&#39;</code>, <code>&#39;b&#39;</code>, and <code>&#39;c&#39;</code> and a non-negative integer <code>k</code>. Each minute, you may take either the <strong>leftmost</strong> character of <code>s</code>, or the <strong>rightmost</strong> character of <code>s</code>.</p>  <p>Return<em> the <strong>minimum</strong> number of minutes needed for you to take <strong>at least</strong> </em><code>k</code><em> of each character, or return </em><code>-1</code><em> if it is not possible to take </em><code>k</code><em> of each character.</em></p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> s = &quot;aabaaaacaabc&quot;, k = 2 <br/> <strong>Output:</strong> 8 <br/> <strong>Explanation:</strong>  Take three characters from the left of s. You now have two &#39;a&#39; characters, and one &#39;b&#39; character. Take five characters from the right of s. You now have four &#39;a&#39; characters, two &#39;b&#39; characters, and two &#39;c&#39; characters. A total of 3 + 5 = 8 minutes is needed. It can be proven that 8 is the minimum number of minutes needed.   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> s = &quot;a&quot;, k = 1 <br/> <strong>Output:</strong> -1 <br/> <strong>Explanation:</strong> It is not possible to take one &#39;b&#39; or &#39;c&#39; so return -1.    <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;= s.length &lt;= 10<sup>5</sup></code></li>  <li><code>s</code> consists of only the letters <code>&#39;a&#39;</code>, <code>&#39;b&#39;</code>, and <code>&#39;c&#39;</code>.</li>  <li><code>0 &lt;= k &lt;= s.length</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Find max window of sub-array such that count of a,b,c outside the window is k each. Use 2 pointers for this window search.
    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Take K of Each Character From Left and Right" lines
# @param {String} s
# @param {Integer} k
# @return {Integer}
def take_characters(s, k)
  chars = s.chars
  n = chars.size
  freq_h = {'a'=>0, 'b'=>0, 'c'=>0}
  chars.each {|ch| freq_h[ch]+=1 }
  return -1 if freq_h.values.any? {|x| x<k }

  window_count = {'a'=>0, 'b'=>0, 'c'=>0}
  left_ptr = 0
  right_ptr = 0
  max_window_len = -1

  while right_ptr<n
    window_count[chars[right_ptr]]+=1
    
    while left_ptr<=right_ptr && ['a','b','c'].any? { |ch| freq_h[ch]-window_count[ch] <k }
      window_count[chars[left_ptr]]-=1
      left_ptr+=1 # shrink window to allow k counts outside the window
    end
    max_window_len = [max_window_len, right_ptr-left_ptr+1].max
    right_ptr+=1
  end
  
  n-max_window_len
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>