---
title: 'ðŸ§€ Video Stitching'
description: '[leetcode link](https://leetcode.com/problems/video-stitching/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>You are given a series of video clips from a sporting event that lasted <code>time</code> seconds. These video clips can be overlapping with each other and have varying lengths.</p>  <p>Each video clip is described by an array <code>clips</code> where <code>clips[i] = [start<sub>i</sub>, end<sub>i</sub>]</code> indicates that the ith clip started at <code>start<sub>i</sub></code> and ended at <code>end<sub>i</sub></code>.</p>  <p>We can cut these clips into segments freely.</p>  <ul>  <li>For example, a clip <code>[0, 7]</code> can be cut into segments <code>[0, 1] + [1, 3] + [3, 7]</code>.</li> </ul>  <p>Return <em>the minimum number of clips needed so that we can cut the clips into segments that cover the entire sporting event</em> <code>[0, time]</code>. If the task is impossible, return <code>-1</code>.</p>   <p><strong class="example">Example 1:</strong></p>   <strong>Input:</strong> clips = [[0,2],[4,6],[8,10],[1,9],[1,5],[5,9]], time = 10 <br/> <strong>Output:</strong> 3 <br/> <strong>Explanation:</strong> We take the clips [0,2], [8,10], [1,9]; a total of 3 clips. Then, we can reconstruct the sporting event as follows: We cut [1,9] into segments [1,2] + [2,8] + [8,9]. Now we have segments [0,2] + [2,8] + [8,10] which cover the sporting event [0, 10].   <p><strong class="example">Example 2:</strong></p>   <strong>Input:</strong> clips = [[0,1],[1,2]], time = 5 <br/> <strong>Output:</strong> -1 <br/> <strong>Explanation:</strong> We cannot cover [0,5] with only [0,1] and [1,2].   <p><strong class="example">Example 3:</strong></p>   <strong>Input:</strong> clips = [[0,1],[6,8],[0,2],[5,6],[0,4],[0,3],[6,7],[1,3],[4,7],[1,4],[2,5],[2,6],[3,4],[4,5],[5,7],[6,9]], time = 9 <br/> <strong>Output:</strong> 3 <br/> <strong>Explanation:</strong> We can take clips [0,4], [4,7], and [6,9].    <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;= clips.length &lt;= 100</code></li>  <li><code>0 &lt;= start<sub>i</sub> &lt;= end<sub>i</sub> &lt;= 100</code></li>  <li><code>1 &lt;= time &lt;= 100</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      minimum number of clips, such that it covers all [0,time]

Starting from 0, consider covering each i value on the x-axis. 

Suppose we are at i, and i is uncovered as of now, we HAVE to pick one of the clips to cover this.

It would be best to pick the one which would cover most of the right paths, greedily pick the longest one which covers i and most of right.

Now, we check for the next uncovered point on x-axis, until we reach the end.




    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Video Stitching" lines
def video_stitching(clips, time)
  clips.sort!
  curr_end = 0
  total = 0
  i = 0

  until i == clips.length || curr_end >= time
    return -1 if clips[i][0] > curr_end
    max = clips[0][1]

    if i != clips.length && clips[i][0] <= curr_end
      until i == clips.length || clips[i][0] > curr_end
        max = clips[i][1] if clips[i][1] > max
        i += 1
      end
    else
      i += 1
    end
    
    total += 1
    curr_end = max
  end

  curr_end >= time ? total : -1
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>