---
title: 'ðŸ§€ Daily Temperatures'
description: '[leetcode link](https://leetcode.com/problems/daily-temperatures/description/)'
mode: 'wide'
---
<Tabs>
  <Tab title="Question" icon="circle-question" iconType="regular">
    <Card>
      <p>Given an array of integers <code>temperatures</code> represents the daily temperatures, return <em>an array</em> <code>answer</code> <em>such that</em> <code>answer[i]</code> <em>is the number of days you have to wait after the</em> <code>i<sup>th</sup></code> <em>day to get a warmer temperature</em>. If there is no future day for which this is possible, keep <code>answer[i] == 0</code> instead.</p>   <p><strong class="example">Example 1:</strong></p> <strong>Input:</strong> temperatures = [73,74,75,71,69,72,76,73] <br/> <strong>Output:</strong> [1,1,4,2,1,1,0,0] <p><strong class="example">Example 2:</strong></p> <strong>Input:</strong> temperatures = [30,40,50,60] <br/> <strong>Output:</strong> [1,1,1,0] <p><strong class="example">Example 3:</strong></p> <strong>Input:</strong> temperatures = [30,60,90] <br/> <strong>Output:</strong> [1,1,0]   <p><strong>Constraints:</strong></p>  <ul>  <li><code>1 &lt;=&nbsp;temperatures.length &lt;= 10<sup>5</sup></code></li>  <li><code>30 &lt;=&nbsp;temperatures[i] &lt;= 100</code></li> </ul> 
    </Card>
  </Tab>
  <Tab title="Solution" icon="lightbulb" iconType="regular" >
    <Card>
      Monotonic Stack is  used to calculate following. 
* NG (Next Greater)
* NS (Next Smaller)
* PG (Previous Greater)
* PS (Previous Smaller)

Other use-cases are https://leetcode.com/discuss/study-guide/2703748/Monotonic-stack-study-summary

These can be element or index location for NG, PG etc. 

Use a stack for calculation. And follow the following algo.

1. For Next, go from Right to Left, for Previous, go from left to right.
2. For Greater, discard info (pop the stack) of all elements, when you get a greater element, this can be looked at as, popping all smaller or equal elements. This is essentially a decreasing monotonic stack.
3. Similarly for Smaller, discard when you get a smaller element, popping greater or equal elements. This is an increasing stack.
4. Take the top element as the answer, and then push current element on the stack


So, essentially, use a stack, for next go R-L, for previous, go L-R. 
For greater element, discard info when you get greater element in processing.
For smaller element, discard info when you get smaller element in processing. 
And use the top info, and update info.

The final stack is reverse of what you try, just for naming purposes. 
For greater problems, stack is decreasing and vice versa.


Notes
For NG problem, when we pop from stack, we are getting all elements which are to the right and smaller than current element.


TODO-
Understand how this can be used in subsequence and subarray problems.





    </Card>
  <Expandable title="code">
    <CodeGroup dropdown>
```ruby title="Daily Temperatures" lines
# @param {Integer[]} temperatures
# @return {Integer[]}
def daily_temperatures(temperatures)
  stack = []
  result = [0]; stack << [temperatures.last, temperatures.size-1]

  # go from right and maintain a strictly increasing sequence in stack
  # with temperature and index as element
  # we are storing info about right hand side
  # any element which is to the right and is lower than current, has no value, info should be discarded
  # but elements which are in increasing order to the right, they can be valuable to elements on the left
  # as some element on the left can fall in between the range in the stack
  
  (temperatures.size-2).downto(0).each do |i|
    # remove all elements which are smaller
    while !stack.last.nil? && stack.last[0] <= temperatures[i]
      stack.pop
    end

    # now what is at top of stack is first greater element to the right
    if !stack.last.nil?
      result << (stack.last[1] - i)
    else
      result << 0
    end
    
    # add the new element, as this is lower than the top, to maintain stricly increasing
    stack << [ temperatures[i] ,i]
  end
  result.reverse
end
```
    </CodeGroup>
  </Expandable>
  </Tab>
</Tabs>